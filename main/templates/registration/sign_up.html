{% extends 'main/base.html' %}
{% block title %} Sign-up {% endblock %}

{% block content %}
{% if exist %}
<div class="container">
    <div class="login-container">
      <h2 class="login-title">Pharmacist Portal</h2>
      <form method="post">
          {% csrf_token %}
          <div class="alert alert-danger" role="alert"> Account already exist</div>
          <div class="mb-3">
            <input type="text" required class="form-control" name="username" placeholder="Username" value="{{ username }}">
          </div>
          <div class="mb-3">
            <input type="email" required="true" class="form-control" name="email" placeholder="Email" value="{{ email }}">
          </div>
          <div class="mb-3">
            <input type="password" required class="form-control" name="password1" placeholder="Password">
          </div>
          <div class="mb-3">
            <input type="password" required class="form-control" name="password2" placeholder="Confirm Password">
          </div>
          <button type="submit" class="btn btn-primary w-100">Register</button>
          <p class="text-center mt-3">Have an account? <a href="/pharmacy/login" class="forgot-password-link">Login</a></p>
      </form>
    </div>
  </div>
{% elif error %}
<div class="container">
    <div class="login-container">
      <h2 class="login-title">Pharmacist Portal</h2>
      <form method="post">
          {% csrf_token %}
          <div class="alert alert-danger" role="alert"> Passwords don't match </div>
          <div class="mb-3">
            <input type="text" required class="form-control" name="username" placeholder="Username" value="{{ username }}">
          </div>
          <div class="mb-3">
            <input type="email" required="true" class="form-control" name="email" placeholder="Email" value="{{ email }}">
          </div>
          <div class="mb-3">
            <input type="password" required class="form-control" name="password1" placeholder="Password">
          </div>
          <div class="mb-3">
            <input type="password" required class="form-control" name="password2" placeholder="Confirm Password">
          </div>
          <button type="submit" class="btn btn-primary w-100">Register</button>
          <p class="text-center mt-3">Have an account? <a href="/pharmacy/login" class="forgot-password-link">Login</a></p>
      </form>
    </div>
  </div>
{% else %}
<div class="container">
    <div class="login-container">
      <h2 class="login-title">Pharmacist Portal</h2>
      <form action="{% url 'sign_up' %}" method="post">
          {% csrf_token %}
          <div class="mb-3">
              <input type="text" required class="form-control"  name="username" placeholder="Username">
          </div>
          <div class="mb-3">
              <input type="email" required="true" class="form-control" name="email" placeholder="Email">
          </div>
          <div class="mb-3">
              <input type="password" required class="form-control" name="password1" placeholder="Password">
          </div>
          <div class="mb-3">
              <input type="password" required class="form-control" name="password2" placeholder="Confirm Password">
          </div>
          <button type="submit" class="btn btn-primary w-100">Register</button>
          <p class="text-center mt-3">Have an account? <a href="/pharmacy/login" class="forgot-password-link">Login</a></p>
      </form>
    </div>
{% endif %}
{% endblock %}